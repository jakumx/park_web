"use strict";var parkWebApp={},mainView={};angular.module("parkWebApp",["ngAnimate","ngAria","ngCookies","ngMessages","ui.router","ngResource","ngRoute","ngSanitize","ngTouch","ngMap","angular-carousel"]).run(function(){parkWebApp=new Framework7({modalTitle:"Framework7",material:!0,pushState:!0,angular:!0}),mainView=parkWebApp.addView(".view-main",{})}).config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("app",{url:"/",views:{header:{templateUrl:"views/header.html",controller:"HeaderCtrl"},content:{templateUrl:"views/main.html",controller:"MainCtrl"},leftPanel:{templateUrl:"views/left_panel.html",controller:"LeftCtrl"}}}),b.otherwise("/")}]),angular.module("parkWebApp").constant("baseURL","http://localhost:4000/api").constant("randomUserURL","https://randomuser.me/api/").service("gameService",["$resource","baseURL",function(a,b){this.getGames=function(){return a(b+"/games/:id",null,{})}}]).service("parkService",["$resource","baseURL",function(a,b){this.getParks=function(){return a(b+"/parks/:id",null,{})}}]).service("randomUserService",["$resource","randomUserURL",function(a,b){this.getRandomUsers=function(){return a(b+"?results=3",null,{})}}]).service("globalService",[function(){var a=null;this.setParkName=function(b){a=b},this.getParkName=function(){return a}}]).factory("twitterService",[function(){var a=!1;return{initialize:function(){OAuth.initialize("o1MnHJXhMgJNvA5x_ZmUs1-ux0c",{cache:!0}),a=OAuth.create("twitter")},isReady:function(){return a},connectTwitter:function(){var b=new Promise(function(b,c){OAuth.popup("twitter",{cache:!0},function(d,e){d?c():(a=e,console.log(e),b())})});return b},clearCache:function(){OAuth.clearCache("twitter"),a=!1},getAccountInfo:function(){var b=new Promise(function(b,c){a.get("/1.1/account/verify_credentials.json").done(function(a){b(a)}).fail(function(a){c(a)})});return b}}}]),angular.module("parkWebApp").controller("MainCtrl",["$scope","parkService","randomUserService","globalService","gameService",function(a,b,c,d,e){a.parkImages=[],a.randomUsers=[],a.rdmSrsFlag=!1,a.gameFlag=!1,b.getParks().get({id:1}).$promise.then(function(b){a.park=b.data,console.log(a.park.name),d.setParkName(a.park.name)},function(a){console.log(a)}),c.getRandomUsers().get().$promise.then(function(b){a.randomUsers=b.results,a.randomUsers.forEach(function(a){a.comment="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat..."}),a.rdmSrsFlag=!0},function(a){console.error(a)}),e.getGames().get().$promise.then(function(b){a.games=b.data,a.gameFlag=!0},function(a){console.log(a)}),a.openImgBrowser=function(b){var c=a.games.find(function(a){return a.id===b}),d=parkWebApp.photoBrowser({zoom:400,type:"popup",theme:"dark",photos:c.images});d.open()}}]),angular.module("parkWebApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("parkWebApp").controller("LeftCtrl",["$scope","$timeout","twitterService",function(a,b,c){c.initialize(),a.connectTwitter=!1,a.profileName="",a.profileImage="",a.connectButton=function(){c.connectTwitter().then(function(){c.isReady()?(a.connectedTwitter=!0,c.getAccountInfo().then(function(b){a.profileName=b.name,a.profileImage=b.profile_image_url},function(a){console.error(a)})):console.error("isReady")},function(a){console.error(a)})},a.signOut=function(){c.clearCache(),a.connectedTwitter=!1}}]),angular.module("parkWebApp").controller("HeaderCtrl",["$scope","globalService",function(a,b){a.parkName=b.getParkName(),console.log(a.parkName)}]),angular.module("parkWebApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/header.html",'<div class="navbar"> <div class="navbar-inner"> <div class="left"> <a href="#" class="link icon-only open-panel"><i class="icon icon-form-name"></i></a> </div> <div class="center"> {{ parkName }} </div> </div> </div>'),a.put("views/left_panel.html",'<div class="page-content"> <div class="row"> <div ng-if="!connectedTwitter" class="col-100"> <div class="col-100"> <div class="content-block-title"> <h1>Usuario</h1> </div> <button ng-click="connectButton()" type="button" class="btn btn-primary">Connect Twitter</button> </div> </div> <div ng-if="connectedTwitter" class="col-100"> <div class="content-block-title"> <img ng-src="{{ profileImage }}" alt=""> {{ profileName }} </div> <button ng-click="signOut()" type="button" class="btn btn-primary">Sign Out</button> </div> </div> </div>'),a.put("views/main.html",'<div ng-if="!park"> <div class="row"> <div class="col-100"> <span class="progressbar-infinite"></span> </div> </div> </div> <div ng-if="park"> <div class="row"> <div class="col-100"> <h1>{{ park.name }}</h1> <h2>{{ park.description }}</h2> </div> </div> <div class="row no-gutter"> <div class="col-100"> <ul rn-carousel rn-carousel-auto-slide="8" rn-carousel-transition="fadeAndSlide" rn-carousel-duration="2000"> <li ng-repeat="image in park.images"> <div class="layer"> <img class="image" ng-src="{{ image }}" width="100%"> </div> </li> </ul> </div> </div> <div class="content-block"> <div class="row"> <div class="col-100"> <div class="content-block-title"> <h2> Estas son algunas de nuestras atracciones <div class="list-block media-list"> <ul> <li ng-repeat="game in games"> <a href="#" ng-click="openImgBrowser(game.id)" class="item-link item-content"> <div class="item-inner"> <div class="item-title-row"> <div class="item-title"> {{ game.name }} </div> <div class="item-after"> Ver imagenes </div> </div> <div class="item-text"> {{ game.description }} </div> </div> </a> </li> </ul> </div> </h2> </div> </div> </div> <div class="row"> <div class="col-100"> <div class="content-block-title"> <h2>Nuestros Usuarios dicen:</h2> </div> <div ng-if="rdmSrsFlag" class="list-block media-list"> <ul> <li ng-repeat="user in randomUsers"> <div class="item-content"> <div class="item-media"> <img ng-src="{{ user.picture.medium }}" alt=""> </div> <div class="item-inner"> <div class="item-inner-row"> <div class="item-title" style="text-transform: uppercase"> {{ user.name.first }} {{ user.name.last }} </div> </div> <div class="item-text"> {{ user.comment }} </div> </div> </div> </li> </ul> </div> <div ng-if="!rdmSrsFlag"> <span class="progressbar-infinite"></span> </div> </div> </div> <div class="row no-gutter"> <div class="col-100"> <div class="content-block-title"> <h2>Nos encontramos en:</h2> </div> </div> <div class="col-100"> <div map-lazy-load="https://maps.google.com/maps/api/js"> <ng-map center="{{ park.lat }}, {{ park.lng }}" zoom="5"> <marker title="{{ park.name }}" position="{{ park.lat }}, {{ park.lng }}"></marker> </ng-map> </div> </div> </div> </div> </div>'),a.put("views/right_panel.html",'<div class="page-content"> <div class="content-block-title"> Navegaci√≥n </div> <div class="list-block"> <ul> <li> <a ui-sref="app.locat">asdfasd</a> <a ui-sref="app.locat" class="item-link item-content"> <span class="item-title"> Ubicaciones </span> </a> </li> <li> <a href="" class="item-link item-content"> <span class="item-title"> Atracciones </span> </a> </li> <li> <a href="" class="item-link item-content"> <span class="item-title"> Contacto </span> </a> </li> </ul> </div> </div>')}]);